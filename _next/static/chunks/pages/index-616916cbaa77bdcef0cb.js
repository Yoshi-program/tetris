(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(n,e,t){"use strict";t.r(e);var r=t(7294),o=t(9163),i=t(5893);function a(n,e){var t="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"===typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(n,e)}(n))||e&&n&&"number"===typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return a=n.done,n},e:function(n){u=!0,i=n},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw i}}}}function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var u=["black","lightblue","blue","orange","yellow","lightgreen","purple","red"],f=o.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["height:100vh;background-color:#b5e1ef;"]),l=o.ZP.div.withConfig({displayName:"pages__AroundBlockArea",componentId:"sc-eccczk-1"})(["position:absolute;top:50%;left:40%;width:309px;height:609px;margin:0;margin-right:-50%;background-color:#cdcdcd;border:solid 5px;border-color:#fff #777 #777 #fff;transform:translate(-50%,-50%);"]),s=o.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-2"})(["position:absolute;top:50%;left:50%;width:300px;height:600px;margin:0;margin-right:-50%;transform:translate(-50%,-50%);"]),h=o.ZP.div.withConfig({displayName:"pages__MinBlock",componentId:"sc-eccczk-3"})(["float:left;width:30px;height:30px;line-height:30px;vertical-align:baseline;background-color:",";border:solid 0.15vh #000;"],(function(n){return u[n.num]})),d=o.ZP.div.withConfig({displayName:"pages__NextMinoArea",componentId:"sc-eccczk-4"})(["position:relative;top:13%;left:60%;width:120px;height:120px;"]),p=o.ZP.div.withConfig({displayName:"pages__NextMino",componentId:"sc-eccczk-5"})(["float:left;width:30px;height:30px;line-height:30px;vertical-align:baseline;background-color:",";border:solid 0.15vh #000;"],(function(n){return u[n.num]})),g=o.ZP.div.withConfig({displayName:"pages__Score",componentId:"sc-eccczk-6"})(["top:20%;left:60%;font-size:50px;"]);e.default=function(){var n=[[[1,1,1,1]],[[2,0,0],[2,2,2]],[[0,0,3],[3,3,3]],[[4,4],[4,4]],[[0,5,5],[5,5,0]],[[0,6,0],[6,6,6]],[[7,7,0],[0,7,7]]],e=(0,r.useState)(!1),t=(e[0],e[1],(0,r.useState)(!1)),o=t[0],c=t[1],u=(0,r.useState)(0),v=u[0],m=u[1],b=(0,r.useState)(!1),y=b[0],w=b[1],x=(0,r.useState)(!1),_=x[0],k=x[1],S=(0,r.useState)(n[Math.floor(7*Math.random())]),N=S[0],I=S[1],A=(0,r.useState)(n[Math.floor(7*Math.random())]),C=A[0],M=A[1],j=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],E=(0,r.useState)(j),P=E[0],z=E[1],Z=(0,r.useState)([[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]]),O=Z[0],B=Z[1],L=(0,r.useState)(4),T=L[0],J=L[1],X=(0,r.useState)(1),D=X[0],R=X[1],U=(0,r.useState)({y:D,x:T,blockIndex:C}),$=(U[0],U[1],function(){for(var n=JSON.parse(JSON.stringify(O)),e=0;e<C.length;e++)for(var t=0;t<C[e].length;t++)0!==C[e][t]&&(n[e+D][t+T]=C[e][t]);return n}),q=(0,r.useMemo)((function(){return $().slice(3,23).map((function(n){return n.filter((function(n){return 9!==n}))}))}),[T,D,C]),F=function(){for(var n=j,e=0;e<N.length;e++)for(var t=0;t<N[e].length;t++)0!==N[e][t]&&(n[e+1][t]=N[e][t]);z(n)},G=function(n,e,t){if(e+t.length>22)return!0;for(var r=$(),o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++)if((r[o+e][i+n]!==r[o+1+e][i+n]||r[o+e][i+n]===O[o+1+e][i+n]||0===r[o+e][i+n])&&1<=r[o+e][i+n]&&r[o+e][i+n]<=7&&1<=r[o+1+e][i+n]&&r[o+1+e][i+n]<=9)return!0;return!1},H=function(n,e,t,r){if(r&&n<1)return!0;if(!r&&n+t[0].length>11)return!0;for(var o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++)if(t[o][i]>0&&O[o+e][i+n]>0)return!0;return!1};(0,r.useEffect)((function(){if(F(),!o)if(y)!function(){var e,t=[],r=0,o=a($().reverse());try{for(o.s();!(e=o.n()).done;){var i=e.value;!i.every((function(n){return 0!==n}))||i.every((function(n){return 9===n}))?t.unshift(i):(r++,m((function(n){return n+1})))}}catch(f){o.e(f)}finally{o.f()}for(var u=0;u<r;u++)t.unshift([9,0,0,0,0,0,0,0,0,0,0,9]);B(t),t[2].every((function(n){return 0===n||9===n}))||c(!0),M(N),I(n[Math.floor(7*Math.random())]),F(),J(4),R(1),w(!1)}();else{var e=G(T,D,C);if(e||R((function(n){return n+1})),!e){var t=setInterval((function(){k(!_)}),1e3);return function(){return clearInterval(t)}}w(!0)}}),[y,_]);var K=(0,r.useCallback)((function(n){switch(n.code){case"ArrowLeft":H(T-1,D,C,!0)||J((function(n){return n-1}));break;case"ArrowRight":H(T+1,D,C,!1)||J((function(n){return n+1}));break;case"ArrowDown":G(T,D,C)||R((function(n){return n+1})),console.log(D);break;case"Space":!function(){var n=D;if(!G(T,D,C)){for(;!G(T,n,C);)n++;R(n)}}()}}),[T,D,C]);return(0,r.useEffect)((function(){if(!y&&!o)return document.addEventListener("keydown",K,!1),function(){document.removeEventListener("keydown",K,!1)}}),[T,D,y]),(0,i.jsxs)(f,{children:[(0,i.jsx)(l,{children:(0,i.jsx)(s,{children:q.map((function(n,e){return n.map((function(n,t){return(0,i.jsx)(h,{num:n},"".concat(t,"-").concat(e))}))}))})}),(0,i.jsx)(d,{children:P.map((function(n,e){return n.map((function(n,t){return(0,i.jsx)(p,{num:n},"".concat(t,"-").concat(e))}))}))}),(0,i.jsxs)(g,{children:["Score:",v]})]})}},5301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(n){n.O(0,[163,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);