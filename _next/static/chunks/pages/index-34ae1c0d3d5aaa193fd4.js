(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,t,n){"use strict";n.r(t);var r=n(7294),o=n(9163),i=n(5893);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=["black","lightblue","blue","orange","yellow","lightgreen","purple","red"],f=o.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["height:100vh;background-color:#b5e1ef;"]),s=o.ZP.div.withConfig({displayName:"pages__Main",componentId:"sc-eccczk-1"})(["position:absolute;top:50%;left:50%;width:800px;height:700px;margin:0;margin-right:-50%;background-color:#4995ff;border:solid 5px;border-color:#fff #777 #777 #fff;border-radius:5%;transform:translate(-50%,-50%);"]),l=o.ZP.div.withConfig({displayName:"pages__BlockArea",componentId:"sc-eccczk-2"})(["position:absolute;top:50%;left:50%;width:300px;height:600px;margin:0;margin-right:-50%;transform:translate(-50%,-50%);"]),d=(0,o.ZP)(l).withConfig({displayName:"pages__AroundBlockArea",componentId:"sc-eccczk-3"})(["width:306px;height:606px;border:solid 3px;border-color:white;"]),p=o.ZP.div.withConfig({displayName:"pages__MinBlock",componentId:"sc-eccczk-4"})(["float:left;width:30px;height:30px;line-height:30px;vertical-align:baseline;background-color:",";border:solid 0.15vh ",";"],(function(e){return u[e.num]}),(function(e){return 0===e.num?"#51515166":"black"})),h=o.ZP.div.withConfig({displayName:"pages__NextMinoArea",componentId:"sc-eccczk-5"})(["position:absolute;top:7%;left:75%;width:140px;height:270px;padding-top:10px;font-size:30px;color:white;text-align:center;background-color:black;border:solid 2px white;border-color:white;border-radius:10%;"]),g=o.ZP.div.withConfig({displayName:"pages__AroundNextMino",componentId:"sc-eccczk-6"})(["position:relative;top:5%;left:16%;width:109px;height:109px;"]),v=o.ZP.div.withConfig({displayName:"pages__NextMino",componentId:"sc-eccczk-7"})(["width:100px;height:100px;"]),m=o.ZP.div.withConfig({displayName:"pages__NextMinoBlock",componentId:"sc-eccczk-8"})(["float:left;width:25px;height:25px;line-height:30px;vertical-align:baseline;background-color:",";border:solid 0.15vh #000;"],(function(e){return u[e.num]})),x=(0,o.ZP)(h).withConfig({displayName:"pages__HoldMinoArea",componentId:"sc-eccczk-9"})(["top:7%;left:6%;width:148px;height:170px;"]),b=o.ZP.div.withConfig({displayName:"pages__ScoreArea",componentId:"sc-eccczk-10"})(["position:absolute;top:37%;left:6%;display:flex;align-items:center;justify-content:center;width:148px;height:105px;background-color:#000;border:solid 2px white;border-radius:10%;"]),w=o.ZP.div.withConfig({displayName:"pages__ScoreandLevel",componentId:"sc-eccczk-11"})(["font-size:30px;color:white;text-align:center;"]),y=(0,o.ZP)(b).withConfig({displayName:"pages__LevelArea",componentId:"sc-eccczk-12"})(["top:58%;"]),k=(0,o.ZP)(b).withConfig({displayName:"pages__GameStateArea",componentId:"sc-eccczk-13"})(["top:79%;"]),_=o.ZP.button.withConfig({displayName:"pages__Stop",componentId:"sc-eccczk-14"})(["position:absolute;top:53%;left:75%;width:140px;height:105px;font-size:30px;color:white;text-align:center;background-color:#000;border:solid 5px;border-color:#fff #777 #777 #fff;border-radius:10%;&:hover{font-size:31px;cursor:pointer;background-color:#2a2a2a;}"]);t.default=function(){var e=[[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]],[[[2,0,0],[2,2,2],[0,0,0]],[[0,2,2],[0,2,0],[0,2,0]],[[0,0,0],[2,2,2],[0,0,2]],[[0,2,0],[0,2,0],[2,2,0]]],[[[0,0,3],[3,3,3],[0,0,0]],[[0,3,0],[0,3,0],[0,3,3]],[[0,0,0],[3,3,3],[3,0,0]],[[3,3,0],[0,3,0],[0,3,0]]],[[[0,4,4],[0,4,4],[0,0,0]],[[0,4,4],[0,4,4],[0,0,0]],[[0,4,4],[0,4,4],[0,0,0]],[[0,4,4],[0,4,4],[0,0,0]]],[[[0,5,5],[5,5,0],[0,0,0]],[[0,5,0],[0,5,5],[0,0,5]],[[0,0,0],[0,5,5],[5,5,0]],[[5,0,0],[5,5,0],[0,5,0]]],[[[0,6,0],[6,6,6],[0,0,0]],[[0,6,0],[0,6,6],[0,6,0]],[[0,0,0],[6,6,6],[0,6,0]],[[0,6,0],[6,6,0],[0,6,0]]],[[[7,7,0],[0,7,7],[0,0,0]],[[0,0,7],[0,7,7],[0,7,0]],[[0,0,0],[7,7,0],[0,7,7]],[[0,7,0],[7,7,0],[7,0,0]]],[[[0,0,0],[0,0,0],[0,0,0]]]],t=(0,r.useState)(!1),n=t[0],o=t[1],a=(0,r.useState)(!1),u=a[0],S=a[1],j=(0,r.useState)(0),N=j[0],C=j[1],z=(0,r.useState)(1),A=z[0],I=z[1],P=(0,r.useState)(e[7]),Z=P[0],E=P[1],M=(0,r.useState)(!1),L=M[0],O=M[1],B=(0,r.useState)(!1),T=B[0],R=B[1],X=(0,r.useState)(!1),G=X[0],H=X[1],J=function(){for(var e=[];e.length<7;){var t=Math.floor(7*Math.random());e.includes(t)||e.push(t)}return e},K=(0,r.useState)(J()),U=K[0],D=K[1],Y=(0,r.useState)(e[U[0]]),$=Y[0],q=Y[1],F=(0,r.useState)(e[U[1]]),Q=F[0],V=F[1],W=(0,r.useState)(e[U[2]]),ee=W[0],te=W[1],ne=(0,r.useState)(0),re=ne[0],oe=ne[1],ie=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],ce=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],ae=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],ue=(0,r.useState)(ie),fe=ue[0],se=ue[1],le=(0,r.useState)(ce),de=le[0],pe=le[1],he=(0,r.useState)(ae),ge=he[0],ve=he[1],me=(0,r.useState)([[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]]),xe=me[0],be=me[1],we=(0,r.useState)(4),ye=we[0],ke=we[1],_e=(0,r.useState)(1),Se=_e[0],je=_e[1],Ne=(0,r.useState)(0),Ce=Ne[0],ze=Ne[1],Ae=function(){for(var e=JSON.parse(JSON.stringify(xe)),t=0;t<$[Ce].length;t++)for(var n=0;n<$[Ce][t].length;n++)0!==$[Ce][t][n]&&(e[t+Se][n+ye]=$[Ce][t][n]);return e},Ie=(0,r.useMemo)((function(){return Ae().slice(3,23).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[ye,Se,Ce]),Pe=function(){for(var e=ie,t=0;t<Q[0].length;t++)for(var n=0;n<Q[0][t].length;n++)0!==Q[0][t][n]&&(e[t+1][n]=Q[0][t][n]);se(e)},Ze=function(){for(var e=ce,t=0;t<ee[0].length;t++)for(var n=0;n<ee[0][t].length;n++)0!==ee[0][t][n]&&(e[t+1][n]=ee[0][t][n]);pe(e)},Ee=function(){for(var e=ae,t=0;t<Z[0].length;t++)for(var n=0;n<Z[0][t].length;n++)0!==Z[0][t][n]&&(e[t+1][n]=Z[0][t][n]);ve(e)},Me=function(e,t,n){for(var r=0;r<n.length;r++)for(var o=0;o<n[r].length;o++)if(n[r][o]>0&&xe[r+t][o+e]>0)return!0;return!1};(0,r.useEffect)((function(){I(1+Math.floor(N/5))}),[N]),(0,r.useEffect)((function(){Me(ye,Se+1,$[Ce])&&function(){R(!T);var t,n=[],r=0,i=c(Ae().reverse());try{for(i.s();!(t=i.n()).done;){var a=t.value;!a.every((function(e){return 0!==e}))||a.every((function(e){return 9===e}))?n.unshift(a):(r++,C((function(e){return e+1})))}}catch(f){i.e(f)}finally{i.f()}for(var u=0;u<r;u++)n.unshift([9,0,0,0,0,0,0,0,0,0,0,9]);be(n),n[2].every((function(e){return 0===e||9===e}))||o(!0),q(Q),V(ee),te(e[U[re+3]]),3===re&&(D(J()),oe(-4)),Pe(),Ze(),ze(0),ke(4),je(1),oe((function(e){return e+1})),O(!1)}()}),[G]);(0,r.useEffect)((function(){if(Pe(),Ze(),Ee(),!n&&!u){var e=Me(ye,Se+1,$[Ce]);e||je(Se+1),setTimeout((function(){R(!T),e&&H(!G)}),1100-100*function(e){return e<=10?e:10}(A))}}),[T,u]);var Le=function(e){for(var t=function(t){for(var n=function(n){if(!Me(ye+n,Se-t,$[e?Ce<3?Ce+1:0:Ce>0?Ce-1:3]))return ke((function(e){return e+n})),je((function(e){return e-t})),ze(e?function(e){return e<3?e+1:e=0}:function(e){return e>0?e-1:e=3}),{v:{v:void 0}}},r=0;r<$[0].length-1;r++){var o=n(r);if("object"===typeof o)return o.v}for(var i=function(n){if(!Me(ye+n,Se-t,$[e?Ce<3?Ce+1:0:Ce>0?Ce-1:3]))return ke((function(e){return e+n})),je((function(e){return e-t})),ze(e?function(e){return e<3?e+1:e=0}:function(e){return e>0?e-1:e=3}),{v:{v:void 0}}},c=-1;c>-($[0].length-1);c--){var a=i(c);if("object"===typeof a)return a.v}},n=0;n<3;n++){var r=t(n);if("object"===typeof r)return r.v}},Oe=function(){return 1===Z.length?(E($),O(!0),Ee(),q(Q),V(ee),te(e[U[re+3]]),3===re&&(D(J()),oe(-4)),Pe(),Ze(),ze(0),ke(4),je(1),void oe((function(e){return e+1}))):L?void 0:(ze(0),ke(4),je(1),E($),q(Z),O(!0),void Ee())},Be=(0,r.useCallback)((function(e){switch(e.code){case"ArrowLeft":Me(ye-1,Se,$[Ce])||ke((function(e){return e-1}));break;case"ArrowRight":Me(ye+1,Se,$[Ce])||ke((function(e){return e+1}));break;case"ArrowDown":Me(ye,Se+1,$[Ce])||je((function(e){return e+1}));break;case"ArrowUp":case"KeyX":Le(!0);break;case"ControlLeft":case"KeyZ":Le(!1);break;case"Space":!function(){for(var e=Se;!Me(ye,e+1,$[Ce]);)e++;je(e)}();break;case"ShiftLeft":case"ShiftRight":Oe()}}),[ye,Se,$,Ce]);return(0,r.useEffect)((function(){if(!n&&!u)return document.addEventListener("keydown",Be,!1),function(){document.removeEventListener("keydown",Be,!1)}}),[ye,Se,Ce,$,u]),(0,i.jsx)(f,{children:(0,i.jsxs)(s,{children:[(0,i.jsx)(d,{children:(0,i.jsx)(l,{children:Ie.map((function(e,t){return e.map((function(e,n){return(0,i.jsx)(p,{num:e},"".concat(n,"-").concat(t))}))}))})}),(0,i.jsxs)(h,{children:["Next",(0,i.jsxs)(g,{children:[(0,i.jsx)(v,{children:fe.map((function(e,t){return e.map((function(e,n){return(0,i.jsx)(m,{num:e},"".concat(n,"-").concat(t))}))}))}),(0,i.jsx)(v,{children:de.map((function(e,t){return e.map((function(e,n){return(0,i.jsx)(m,{num:e},"".concat(n,"-").concat(t))}))}))})]})]}),(0,i.jsxs)(x,{children:["Hold",(0,i.jsx)(g,{children:(0,i.jsx)(v,{children:ge.map((function(e,t){return e.map((function(e,n){return(0,i.jsx)(m,{num:e},"".concat(n,"-").concat(t))}))}))})})]}),(0,i.jsx)(b,{children:(0,i.jsxs)(w,{children:["Score",(0,i.jsx)("br",{}),N]})}),(0,i.jsx)(y,{children:(0,i.jsxs)(w,{children:["Level",(0,i.jsx)("br",{}),A]})}),(0,i.jsx)(k,{children:(0,i.jsx)(w,{children:n?"Gameover":"You can do it!"})}),(0,i.jsx)(_,{onClick:function(){return S(!u)},children:u?"Resume!":"Stop!"})]})})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);