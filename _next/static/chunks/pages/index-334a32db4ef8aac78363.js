(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,t){"use strict";t.r(n);var r=t(7294),o=t(9163),i=t(5893);function a(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw i}}}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=["black","lightblue","blue","orange","yellow","lightgreen","purple","red"],f=o.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["height:100vh;background-color:#b5e1ef;"]),l=o.ZP.div.withConfig({displayName:"pages__Main",componentId:"sc-eccczk-1"})(["position:absolute;top:50%;left:50%;width:600px;height:700px;margin:0;margin-right:-50%;background-color:#70c648;border:solid 5px;border-color:#fff #777 #777 #fff;transform:translate(-50%,-50%);"]),s=o.ZP.div.withConfig({displayName:"pages__AroundBlockArea",componentId:"sc-eccczk-2"})(["position:absolute;top:50%;left:35%;width:309px;height:609px;margin:0;margin-right:-50%;background-color:#cdcdcd;border:solid 5px;border-color:#fff #777 #777 #fff;transform:translate(-50%,-50%);"]),d=o.ZP.div.withConfig({displayName:"pages__BlockArea",componentId:"sc-eccczk-3"})(["position:absolute;top:50%;left:50%;width:300px;height:600px;margin:0;margin-right:-50%;transform:translate(-50%,-50%);"]),h=o.ZP.div.withConfig({displayName:"pages__MinBlock",componentId:"sc-eccczk-4"})(["float:left;width:30px;height:30px;line-height:30px;vertical-align:baseline;background-color:",";border:solid 0.15vh #000;"],(function(e){return u[e.num]})),p=o.ZP.div.withConfig({displayName:"pages__AroundNextMinoArea",componentId:"sc-eccczk-5"})(["position:relative;top:13%;left:70%;width:129px;height:129px;border:solid 5px;border-color:#fff #777 #777 #fff;"]),g=o.ZP.div.withConfig({displayName:"pages__NextMinoArea",componentId:"sc-eccczk-6"})(["width:120px;height:120px;"]),m=o.ZP.div.withConfig({displayName:"pages__NextMino",componentId:"sc-eccczk-7"})(["float:left;width:30px;height:30px;line-height:30px;vertical-align:baseline;background-color:",";border:solid 0.15vh #000;"],(function(e){return u[e.num]})),v=o.ZP.div.withConfig({displayName:"pages__Score",componentId:"sc-eccczk-8"})(["position:absolute;top:40%;left:67%;font-size:50px;"]);n.default=function(){var e=[[[[0,0,0,0],[1,1,1,1]],[[0,0,1],[0,0,1],[0,0,1],[0,0,1]],[[0,0,0,0],[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]]],[[[2,0,0],[2,2,2],[0,0,0]],[[0,2,2],[0,2,0],[0,2,0]],[[0,0,0],[2,2,2],[0,0,2]],[[0,2,0],[0,2,0],[2,2,0]]],[[[0,0,3],[3,3,3],[0,0,0]],[[0,3,0],[0,3,0],[0,3,3]],[[0,0,0],[3,3,3],[3,0,0]],[[3,3,0],[0,3,0],[0,3,0]]],[[[0,4,4],[0,4,4],[0,0,0]],[[0,4,4],[0,4,4],[0,0,0]],[[0,4,4],[0,4,4],[0,0,0]],[[0,4,4],[0,4,4],[0,0,0]]],[[[0,5,5],[5,5,0],[0,0,0]],[[0,5,0],[0,5,5],[0,0,5]],[[0,0,0],[0,5,5],[5,5,0]],[[5,0,0],[5,5,0],[0,5,0]]],[[[0,6,0],[6,6,6],[0,0,0]],[[0,6,0],[0,6,6],[0,6,0]],[[0,0,0],[6,6,6],[0,6,0]],[[0,6,0],[6,6,0],[0,6,0]]],[[[7,7,0],[0,7,7],[0,0,0]],[[0,0,7],[0,7,7],[0,7,0]],[[0,0,0],[7,7,0],[0,7,7]],[[0,7,0],[7,7,0],[7,0,0]]]],n=(0,r.useState)(!1),t=(n[0],n[1],(0,r.useState)(!1)),o=t[0],c=t[1],u=(0,r.useState)(0),b=u[0],w=u[1],x=(0,r.useState)(!1),y=x[0],k=x[1],_=(0,r.useState)(!1),S=_[0],N=_[1],A=(0,r.useState)(e[Math.floor(7*Math.random())]),I=A[0],C=A[1],M=(0,r.useState)(e[Math.floor(7*Math.random())]),j=M[0],P=M[1],z=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],E=(0,r.useState)(z),Z=E[0],O=E[1],B=(0,r.useState)([[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]]),L=B[0],T=B[1],J=(0,r.useState)(4),U=J[0],X=J[1],D=(0,r.useState)(1),R=D[0],$=D[1],q=(0,r.useState)(0),F=q[0],G=q[1],H=(0,r.useState)({y:R,x:U,blockIndex:j}),K=(H[0],H[1],function(e){for(var n=JSON.parse(JSON.stringify(L)),t=0;t<e;t++)for(var r=0;r<j[F][t].length;r++)0!==j[F][t][r]&&(n[t+R][r+U]=j[F][t][r]);return n}),Q=(0,r.useMemo)((function(){return K(j[F].length).slice(3,23).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[U,R,F]),V=function(){for(var e=z,n=0;n<I[0].length;n++)for(var t=0;t<I[0][n].length;t++)0!==I[0][n][t]&&(e[n+1][t]=I[0][n][t]);O(e)},W=function(e,n,t){if(n+t.length>24)return!0;for(var r=0;r<t.length;r++)for(var o=0;o<t[r].length;o++)if(0!==t[r][o]&&t[r][o]>0&&L[r+n][o+e]>0)return!0;return!1},Y=function(e,n,t,r){!r&&t[0].length;for(var o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++)if(0!==t[o][i]&&t[o][i]>0&&L[o+n][i+e]>0)return!0;return!1};(0,r.useEffect)((function(){if(V(),!o){var n=W(U,R+1,j[F]);if(n||$((function(e){return e+1})),y)!function(){var n,t=[],r=0,o=a(K(j[F].length).reverse());try{for(o.s();!(n=o.n()).done;){var i=n.value;!i.every((function(e){return 0!==e}))||i.every((function(e){return 9===e}))?t.unshift(i):(r++,w((function(e){return e+1})))}}catch(f){o.e(f)}finally{o.f()}for(var u=0;u<r;u++)t.unshift([9,0,0,0,0,0,0,0,0,0,0,9]);T(t),t[2].every((function(e){return 0===e||9===e}))||c(!0),P(I),C(e[Math.floor(7*Math.random())]),V(),G(0),X(4),$(1),k(!1)}();else{if(!n){var t=setInterval((function(){N(!S)}),600);return function(){return clearInterval(t)}}k(!0)}}}),[y,S]);var ee=(0,r.useCallback)((function(e){switch(e.code){case"ArrowLeft":Y(U-1,R,j[F],!0)||X((function(e){return e-1}));break;case"ArrowRight":Y(U+1,R,j[F],!1)||X((function(e){return e+1}));break;case"ArrowDown":W(U,R+1,j[F])||$((function(e){return e+1}));break;case"ArrowUp":!function(){if(F<3){if(W(U,R,j[F+1]))return;G((function(e){return e+1}))}else{if(W(U,R,j[0]))return;G(0)}}();break;case"Space":!function(){var e=R;if(!W(U,R+1,j[F])){for(;!W(U,e+1,j[F]);)e++;$(e)}}()}}),[U,R,j,F]);return(0,r.useEffect)((function(){if(!y&&!o)return document.addEventListener("keydown",ee,!1),function(){document.removeEventListener("keydown",ee,!1)}}),[U,R,y,F,j]),(0,i.jsx)(f,{children:(0,i.jsxs)(l,{children:[(0,i.jsx)(s,{children:(0,i.jsx)(d,{children:Q.map((function(e,n){return e.map((function(e,t){return(0,i.jsx)(h,{num:e},"".concat(t,"-").concat(n))}))}))})}),(0,i.jsx)(p,{children:(0,i.jsx)(g,{children:Z.map((function(e,n){return e.map((function(e,t){return(0,i.jsx)(m,{num:e},"".concat(t,"-").concat(n))}))}))})}),(0,i.jsxs)(v,{children:["Score:",b]})]})})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);